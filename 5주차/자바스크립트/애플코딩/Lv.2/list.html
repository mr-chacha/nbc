<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <!--부트스트랩CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
  <link rel="stylesheet" href="main.css">
  <title>Hello, world!</title>

  <!--Jquery-->
  <script src="https://code.jquery.com/jquery-3.6.1.min.js"
    integrity="sha256-o88AwQnZB+VDvE9tvIXrMQaPlFFSUTR+nldQm1LuPXQ=" crossorigin="anonymous">
    </script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"
    integrity="sha512-894YE6QWD5I59HgZOGReFYm4dnWc1Qt5NtvYSaNcOP+u1T9qYdvdihz0PPSiiqn/+/3e7Jo4EaG7TubfWGUrMQ=="
    crossorigin="anonymous" referrerpolicy="no-referrer">
    </script>

</head>
<!--기존 쇼핑몰 UI 
<body>
  <div class="card-group container">
    <div class="card">
      <img src="https://via.placeholder.com/600">
      <div class="card-body">
        <h5 class="title1">Card title</h5>
        <p class="price1">가격 : 70000</p>
        <button class="btn btn-danger">주문하기</button>
      </div>
    </div>
    <div class="card">
      <img src="https://via.placeholder.com/600">
      <div class="card-body">
        <h5 class="title2">Card title</h5>
        <p class="price2">가격 : 70000</p>
        <button class="btn btn-danger">주문하기</button>
      </div>
    </div>
    <div class="card">
      <img src="https://via.placeholder.com/600">
      <div class="card-body">
        <h5 class="title3">Card title</h5>
        <p class="price3">가격 : 70000</p>
        <button class="btn btn-danger">주문하기</button>
      </div>
    </div>
  </div>
  <script>
    //쇼핑몰 UI만들기
    //1.해당 title과 price가 들어갈 부분을 찾는ㄷ
    //2.innerHTML로 문자를 바꾼다
    //3.문자를 바꿀때 products 배열안에있는 객체를 찾아서 바꾼다.
    //4.문자를 합치고싶을땐 '문자'+ 이렇게쓰면됨.
    var products = [
      { id: 0, price: 70000, title: 'Blossom Dress' },
      { id: 1, price: 50000, title: 'Springfield Shirt' },
      { id: 2, price: 60000, title: 'Black Monastery' }
    ];

    for (let i = 0; i < products.length; i++) {
      document.querySelectorAll('.card-body h5')[i].innerHTML = '상품명:' + products[i].title
      document.querySelectorAll('.card-body p')[i].innerHTML = '가격:' + products[i].price
    }
    document.querySelectorAll('.card-body h5')[0].innerHTML = '상품명:' + products[0].title
    document.querySelectorAll('.card-body p')[0].innerHTML = '가격:' + products[0].price
    document.querySelectorAll('.card-body h5')[1].innerHTML = '상품명:' + products[1].title
    document.querySelectorAll('.card-body p')[1].innerHTML = '가격:' + products[1].price
    document.querySelectorAll('.card-body h5')[2].innerHTML = '상품명:' + products[2].title
    document.querySelectorAll('.card-body p')[2].innerHTML = '가격:' + products[2].price
  </script>
  -->

<!--새로운 쇼핑물 UI-->
<div class="container">
  <div class="row">
    <!-- <div class="col-sm-4">
      <img src="https://via.placeholder.com/600" class="w-100">
      <h5>Card title</h5>
      <p>가격 : 70000</p>
    </div> -->
  </div>
</div>
<div class="container">
  <button class="btn btn-danger ">더보기</button>
</div>
<script>
  //새로운 쇼핑몰 UI만들기
  var products = [
    { id: 0, price: 70000, title: 'Blossom Dress' },
    { id: 1, price: 50000, title: 'Springfield Shirt' },
    { id: 2, price: 60000, title: 'Black Monastery' }
  ];

  //자바스크립트로  카드3개만들기 
  //1. 기존에있던 틀을 변수에 담고
  //2. 그안에서 계속 수정될 title,price를 계속바꿔줘야하니 ${}을쓰고.
  //3. products의 배열만큼 반복해주면 product에 상품이 늘어나도 커버가능함.
  //4. 다시원래자리에 append로 넣어줘야함.

  for (let i = 0; i < products.length; i++) {
    let 템플릿 = `<div class="col-sm-4">
    <img src="https://via.placeholder.com/600" class="w-100">
      <h5>${products[i].title}</h5>
      <p>가격 : ${products[i].price}</p>
  </div>`
    //append로 class="row" 끝에다가 템플릿변수를 집어 넣는것
    $('.row').append(템플릿)
  }

  //더보기버튼 눌렀을때 ajax post로 상품 3개가져와서 출력하기
  //1.get 요청 링크 = https://codingapple1.github.io/js/more1.json 
  //2.get요청하기를 만들고
  //3.더보기 버튼을 클릭했을때 get요청하기
  //4.더보기 버튼을 눌렸을때 가져온데이터로 카드3개를 만들어라
  //5.더보기 버튼을 1번누르면 3개가져오고 
  //5-1.클릭했을때 클릭수를 세어줄 count 변수를만들고 
  //5-2.클릭했을때 count가+1되게 함수를 만들고
  //5-3.그함수안에 작성해놨던 함수를 넣어놓고
  //5-4.클릭수가 1번이면 3개의 카드가보이게
  //6.더보기 버튼을 2번 누르면 3개더 가져오기
  //6-1.클릭수가 2번이면 3개더 보이게하기
  //7.버튼 3번누르면 더보기버튼 안보이게하기.
  //7-1.clastLis.add('form-hide')하기
  let count = 0
  document.getElementsByClassName('btn btn-danger')[0].addEventListener('click',
    //5-1 c
    function () {
      count += 1;
      console.log(count)
      if (count == 1) {
        //2-1.get요청 하는방법
        $.get('https://codingapple1.github.io/js/more1.json')
          .done(function (data) {
            console.log(data)
            //4-1. 카드레이아웃을 만들기
            //4-2. 기존만들었던 템플릿을 가져온후
            //4-3. data에서 가져왔으니 products가 아닌 data를 적어줌
            //4.4. 이걸 다시 반복문에 돌리면?
            for (let i = 0; i < data.length; i++) {
              let 템플릿 = `<div class="col-sm-4">
          <img src="https://via.placeholder.com/600" class="w-100">
              <h5>${data[i].title}</h5>
              <p>가격 : ${data[i].price}</p>
          </div>`
              //append로 class="row" 끝에다가 템플릿변수를 집어 넣는것
              $('.row').append(템플릿)
            }
          })
      } else if (count == 2) {
        //2-1.get요청 하는방법
        $.get('https://codingapple1.github.io/js/more2.json')
          .done(function (data2) {
            console.log(data2)
            //4-1. 카드레이아웃을 만들기
            //4-2. 기존만들었던 템플릿을 가져온후
            //4-3. data에서 가져왔으니 products가 아닌 data를 적어줌
            //4.4. 이걸 다시 반복문에 돌리면?
            for (let i = 0; i < data2.length; i++) {
              let 템플릿 = `<div class="col-sm-4">
          <img src="https://via.placeholder.com/600" class="w-100">
              <h5>${data2[i].title}</h5>
              <p>가격 : ${data2[i].price}</p>
          </div>`
              //append로 class="row" 끝에다가 템플릿변수를 집어 넣는것
              $('.row').append(템플릿)
            }
          })
      } else if (count == 3) {
        document.getElementsByClassName('btn btn-danger')[0].classList.add('form-hide')
      }
    })

</script>

<form class="container my-5 form-group">
  <p>상품선택</p>
  <select class="form-select mt-2">
    <option>모자</option>
    <option>셔츠</option>
    <option>바지</option>
  </select>
  <select class="form-select mt-2 form-hide">
    <option>95</option>
    <option>100</option>
  </select>
</form>

<div id="test">

</div>

<script>
  //쇼핑몰 사이즈 선택기능
  //1.셔츠를 누르면 95 100이 나오게
  //1-1.셔츠를 누르면 remove-form-hide
  //2.바지를 누르면 28,30이 나오게
  //2-1.remove form-hide
  //2-2 안에 html을 비워주고
  //2-3 템플릿 변수를 하나만들고
  //2-4 append로 템플릿 변수를 넣어서 만듬

  //제이쿼리 사용함 자바스크립트로 하는법 모르겠음..;;
  var pants = [28, 30, 32]
  var shirts = [95, 100, 105]
  $('.form-select').eq(0).on('input', function () {
    var value = this.value;
    if (value == '셔츠') {
      $('.form-select').eq(1).removeClass('form-hide');

    } else if (value == '바지') {
      $('.form-select').eq(1).removeClass('form-hide')
      $('.form-select').eq(1).html('');
      //pants의 데이터들을 함수(a)에 담는다는코드;;
      //forEach라는 반복문인데 배열에 많이쓰이고 배열의 길이만큼 알아서 반복해줌
      //for(let i=0; i<pants.lenght; i++) 이걸 줄인거라고 보면됨.
      pants.forEach(function (a) {
        //그래서 바지를 선택했을때 그안에 append를 하고 문자열 중간에 변수를 넣을거라 백틱을씀
        $('.form-select').eq(1).append(`<option>${a}</option>`);
      })
    }
  })


    //자바스크립트로 변환해보기 = 실패
    // document.querySelectorAll('form-select')[0].addEventListener('input', function () {
    //   var value = this.value;
    //   if (value == '셔츠') {
    //     document.querySelectorAll('form-select')[1].classList.remove('form-hide');
    //   } else if (value == '바지') {
    //     document.querySelectorAll('form-select')[1].classList.remove('form-hide');
    //     document.querySelectorAll('form-select')[1].innerHTML('');
    //     var 템플릿 = '<option>28</option> <option>30</option>';
    //     document.querySelectorAll('form-select')[1].append(템플릿);
    //   }
    // })


</script>

<!--부트스트랩-->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
  integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous">
  </script>
</body>

</html>